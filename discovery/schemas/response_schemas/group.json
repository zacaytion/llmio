{
  "name": "GroupSerializer",
  "source_file": "app/serializers/group_serializer.rb",
  "inherits_from": "ApplicationSerializer",
  "root_key": "groups",
  "sideloaded_as": "groups",
  "description": "Full group serializer with all settings and computed counts",
  "attributes": {
    "id": { "type": "integer", "source": "column" },
    "key": { "type": "string", "source": "column" },
    "handle": { "type": "string", "source": "column", "nullable": true },
    "name": { "type": "string", "source": "column" },
    "full_name": { "type": "string", "source": "column", "note": "Includes parent name if subgroup" },
    "content_locale": { "type": "string", "source": "column", "nullable": true },
    "description": { "type": "string", "source": "column", "nullable": true },
    "description_format": { "type": "string", "source": "column", "enum": ["md", "html"] },
    "logo_url": { "type": "string", "source": "method", "note": "Returns self_or_parent_logo_url" },
    "created_at": { "type": "datetime", "source": "column" },
    "creator_id": { "type": "integer", "source": "column", "nullable": true },
    "members_can_add_members": { "type": "boolean", "source": "column" },
    "members_can_add_guests": { "type": "boolean", "source": "column" },
    "members_can_announce": { "type": "boolean", "source": "column" },
    "members_can_create_subgroups": { "type": "boolean", "source": "column" },
    "members_can_start_discussions": { "type": "boolean", "source": "column" },
    "members_can_edit_discussions": { "type": "boolean", "source": "column" },
    "members_can_edit_comments": { "type": "boolean", "source": "column" },
    "members_can_delete_comments": { "type": "boolean", "source": "column" },
    "members_can_raise_motions": { "type": "boolean", "source": "column" },
    "admins_can_edit_user_content": { "type": "boolean", "source": "column" },
    "token": { "type": "string", "source": "column", "conditional": "scope[:include_token]" },
    "polls_count": { "type": "integer", "source": "column" },
    "poll_templates_count": { "type": "integer", "source": "column" },
    "closed_polls_count": { "type": "integer", "source": "column" },
    "discussions_count": { "type": "integer", "source": "column" },
    "public_discussions_count": { "type": "integer", "source": "column" },
    "group_privacy": { "type": "string", "source": "column", "enum": ["open", "closed", "secret"] },
    "listed_in_explore": { "type": "boolean", "source": "column" },
    "memberships_count": { "type": "integer", "source": "column" },
    "delegates_count": { "type": "integer", "source": "column" },
    "pending_memberships_count": { "type": "integer", "source": "column" },
    "accepted_memberships_count": { "type": "integer", "source": "column" },
    "membership_granted_upon": { "type": "string", "source": "column", "enum": ["request", "approval", "invitation"] },
    "discussion_privacy_options": { "type": "string", "source": "column" },
    "admin_memberships_count": { "type": "integer", "source": "column" },
    "archived_at": { "type": "datetime", "source": "column", "nullable": true },
    "attachments": { "type": "array", "source": "column", "items": "attachment_object" },
    "link_previews": { "type": "array", "source": "column", "items": "link_preview_object" },
    "new_threads_max_depth": { "type": "integer", "source": "column" },
    "new_threads_newest_first": { "type": "boolean", "source": "column" },
    "has_custom_cover_photo": { "type": "boolean", "source": "method" },
    "cover_url": { "type": "string", "source": "method", "note": "Returns self_or_parent_cover_url" },
    "open_discussions_count": { "type": "integer", "source": "column" },
    "closed_discussions_count": { "type": "integer", "source": "column" },
    "discussion_templates_count": { "type": "integer", "source": "column" },
    "recent_activity_count": { "type": "integer", "source": "column" },
    "is_visible_to_public": { "type": "boolean", "source": "column" },
    "is_visible_to_parent_members": { "type": "boolean", "source": "column" },
    "parent_members_can_see_discussions": { "type": "boolean", "source": "column" },
    "org_discussions_count": { "type": "integer", "source": "column", "conditional": "object.is_parent?" },
    "org_members_count": { "type": "integer", "source": "column", "conditional": "object.is_parent?" },
    "subscription": { "type": "object", "source": "method", "properties": {
      "max_members": { "type": "integer", "nullable": true },
      "max_threads": { "type": "integer", "nullable": true },
      "allow_subgroups": { "type": "boolean" },
      "plan": { "type": "string" },
      "state": { "type": "string" },
      "active": { "type": "boolean" },
      "renews_at": { "type": "datetime", "nullable": true },
      "expires_at": { "type": "datetime", "nullable": true },
      "members_count": { "type": "integer" }
    }},
    "subgroups_count": { "type": "integer", "source": "column" },
    "new_host": { "type": "string", "source": "method", "note": "Extracted from info['new_host']", "nullable": true },
    "categorize_poll_templates": { "type": "boolean", "source": "column" },
    "category": { "type": "string", "source": "column", "nullable": true },
    "request_to_join_prompt": { "type": "string", "source": "column", "nullable": true },
    "can_start_polls_without_discussion": { "type": "boolean", "source": "column" }
  },
  "relationships": {
    "parent": { "serializer": "GroupSerializer", "type": "has_one", "root": "parent_groups" },
    "current_user_membership": { "serializer": "MembershipSerializer", "type": "has_one", "root": "memberships", "conditional": "include_type?('membership')" },
    "translation": { "serializer": "TranslationSerializer", "type": "has_one" },
    "tags": { "serializer": "TagSerializer", "type": "has_many", "root": "tags", "conditional": "group_privacy == 'open' || current_user_membership" }
  }
}
