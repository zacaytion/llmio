{
  "name": "MembershipRequestsController",
  "source_file": "app/controllers/api/v1/membership_requests_controller.rb",
  "namespace": "Api::V1",
  "base_path": "/api/v1/membership_requests",
  "inherits": "RestfulController",
  "permitted_params_key": "membership_request",
  "description": "Requests to join groups",
  "actions": {
    "create": {
      "method": "POST",
      "path": "/api/v1/membership_requests",
      "description": "Request to join a group",
      "authentication": "required",
      "root_key": "membership_request",
      "parameters": { "$ref": "../permitted_params.json#/attributes/membership_request" }
    },
    "pending": {
      "method": "GET",
      "path": "/api/v1/membership_requests/pending",
      "description": "List pending membership requests for a group",
      "authentication": "required",
      "authorization": "manage_membership_requests on Group",
      "query_parameters": {
        "group_id": { "type": "integer", "required": true },
        "from": { "type": "integer" },
        "per": { "type": "integer" }
      }
    },
    "my_pending": {
      "method": "GET",
      "path": "/api/v1/membership_requests/my_pending",
      "description": "Get current user's pending requests for a group",
      "authentication": "required",
      "query_parameters": {
        "group_id": { "type": "integer", "required": true }
      }
    },
    "previous": {
      "method": "GET",
      "path": "/api/v1/membership_requests/previous",
      "description": "List responded-to membership requests for a group",
      "authentication": "required",
      "authorization": "manage_membership_requests on Group",
      "query_parameters": {
        "group_id": { "type": "integer", "required": true },
        "from": { "type": "integer" },
        "per": { "type": "integer" }
      }
    },
    "approve": {
      "method": "POST",
      "path": "/api/v1/membership_requests/:id/approve",
      "description": "Approve a membership request",
      "authentication": "required",
      "authorization": "manage_membership_requests on Group",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    },
    "ignore": {
      "method": "POST",
      "path": "/api/v1/membership_requests/:id/ignore",
      "description": "Ignore/reject a membership request",
      "authentication": "required",
      "authorization": "manage_membership_requests on Group",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    }
  }
}
