{
  "name": "ReactionsController",
  "source_file": "app/controllers/api/v1/reactions_controller.rb",
  "namespace": "Api::V1",
  "base_path": "/api/v1/reactions",
  "inherits": "RestfulController",
  "permitted_params_key": "reaction",
  "description": "Emoji reactions on various content types",
  "actions": {
    "index": {
      "method": "GET",
      "path": "/api/v1/reactions",
      "description": "List reactions for given content IDs",
      "authentication": "required",
      "query_parameters": {
        "comment_ids": { "type": "string", "description": "x-separated comment IDs" },
        "discussion_ids": { "type": "string", "description": "x-separated discussion IDs" },
        "outcome_ids": { "type": "string", "description": "x-separated outcome IDs" },
        "poll_ids": { "type": "string", "description": "x-separated poll IDs" },
        "stance_ids": { "type": "string", "description": "x-separated stance IDs" }
      }
    },
    "create": {
      "method": "POST",
      "path": "/api/v1/reactions",
      "description": "Create or update a reaction (idempotent)",
      "authentication": "required",
      "root_key": "reaction",
      "parameters": { "$ref": "../permitted_params.json#/attributes/reaction" },
      "notes": "If reaction already exists for user/reactable, updates it"
    },
    "update": {
      "method": "PATCH",
      "path": "/api/v1/reactions/:id",
      "description": "Update a reaction",
      "authentication": "required",
      "authorization": "update on Reaction",
      "root_key": "reaction",
      "path_parameters": {
        "id": { "type": "integer" }
      },
      "parameters": { "$ref": "../permitted_params.json#/attributes/reaction" }
    },
    "destroy": {
      "method": "DELETE",
      "path": "/api/v1/reactions/:id",
      "description": "Remove a reaction",
      "authentication": "required",
      "authorization": "destroy on Reaction",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    }
  }
}
