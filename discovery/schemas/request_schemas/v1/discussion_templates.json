{
  "name": "DiscussionTemplatesController",
  "source_file": "app/controllers/api/v1/discussion_templates_controller.rb",
  "namespace": "Api::V1",
  "base_path": "/api/v1/discussion_templates",
  "inherits": "RestfulController",
  "permitted_params_key": "discussion_template",
  "description": "Discussion templates for groups",
  "actions": {
    "index": {
      "method": "GET",
      "path": "/api/v1/discussion_templates",
      "description": "List discussion templates for a group",
      "authentication": "required",
      "query_parameters": {
        "group_id": { "type": "integer" },
        "id": { "type": "integer", "description": "Get specific template by ID" }
      }
    },
    "show": {
      "method": "GET",
      "path": "/api/v1/discussion_templates/:id",
      "description": "Get a single discussion template",
      "authentication": "required",
      "path_parameters": {
        "id": { "type": "integer" }
      },
      "notes": "Returns template if user has access to group or if template is public"
    },
    "create": {
      "method": "POST",
      "path": "/api/v1/discussion_templates",
      "description": "Create a discussion template",
      "authentication": "required",
      "authorization": "admin on Group",
      "root_key": "discussion_template",
      "parameters": { "$ref": "../permitted_params.json#/attributes/discussion_template" }
    },
    "update": {
      "method": "PATCH",
      "path": "/api/v1/discussion_templates/:id",
      "description": "Update a discussion template",
      "authentication": "required",
      "authorization": "admin on Group",
      "root_key": "discussion_template",
      "path_parameters": {
        "id": { "type": "integer" }
      },
      "parameters": { "$ref": "../permitted_params.json#/attributes/discussion_template" }
    },
    "destroy": {
      "method": "DELETE",
      "path": "/api/v1/discussion_templates/:id",
      "description": "Permanently delete a discussion template",
      "authentication": "required",
      "authorization": "admin on Group",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    },
    "browse": {
      "method": "GET",
      "path": "/api/v1/discussion_templates/browse",
      "description": "Browse public discussion templates",
      "authentication": "optional",
      "query_parameters": {
        "query": { "type": "string", "description": "Search by name, subtitle, or tags" }
      }
    },
    "browse_tags": {
      "method": "GET",
      "path": "/api/v1/discussion_templates/browse_tags",
      "description": "Get popular tags for public templates",
      "authentication": "optional"
    },
    "positions": {
      "method": "POST",
      "path": "/api/v1/discussion_templates/positions",
      "description": "Reorder templates by position",
      "authentication": "required",
      "authorization": "admin on Group",
      "parameters": {
        "group_id": { "type": "integer", "required": true },
        "ids": { "type": "array", "items": { "type": ["integer", "string"] }, "description": "Template IDs or keys in order", "required": true }
      }
    },
    "hide": {
      "method": "POST",
      "path": "/api/v1/discussion_templates/hide",
      "description": "Hide a built-in template",
      "authentication": "required",
      "authorization": "admin on Group",
      "parameters": {
        "group_id": { "type": "integer", "required": true },
        "key": { "type": "string", "required": true }
      }
    },
    "unhide": {
      "method": "POST",
      "path": "/api/v1/discussion_templates/unhide",
      "description": "Unhide a built-in template",
      "authentication": "required",
      "authorization": "admin on Group",
      "parameters": {
        "group_id": { "type": "integer", "required": true },
        "key": { "type": "string", "required": true }
      }
    },
    "discard": {
      "method": "POST",
      "path": "/api/v1/discussion_templates/discard",
      "description": "Soft-delete a template",
      "authentication": "required",
      "authorization": "admin on Group",
      "parameters": {
        "group_id": { "type": "integer", "required": true },
        "id": { "type": "integer", "required": true }
      }
    },
    "undiscard": {
      "method": "POST",
      "path": "/api/v1/discussion_templates/undiscard",
      "description": "Restore a soft-deleted template",
      "authentication": "required",
      "authorization": "admin on Group",
      "parameters": {
        "group_id": { "type": "integer", "required": true },
        "id": { "type": "integer", "required": true }
      }
    }
  }
}
