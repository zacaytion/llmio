{
  "name": "CommentsController",
  "source_file": "app/controllers/api/v1/comments_controller.rb",
  "namespace": "Api::V1",
  "base_path": "/api/v1/comments",
  "inherits": "RestfulController",
  "permitted_params_key": "comment",
  "actions": {
    "create": {
      "method": "POST",
      "path": "/api/v1/comments",
      "description": "Create a new comment in a discussion",
      "authentication": "required",
      "root_key": "comment",
      "parameters": { "$ref": "../permitted_params.json#/attributes/comment" }
    },
    "update": {
      "method": "PATCH",
      "path": "/api/v1/comments/:id",
      "description": "Update a comment",
      "authentication": "required",
      "authorization": "update on Comment",
      "root_key": "comment",
      "path_parameters": {
        "id": { "type": "integer" }
      },
      "parameters": { "$ref": "../permitted_params.json#/attributes/comment" }
    },
    "destroy": {
      "method": "DELETE",
      "path": "/api/v1/comments/:id",
      "description": "Permanently delete a comment",
      "authentication": "required",
      "authorization": "destroy on Comment",
      "path_parameters": {
        "id": { "type": "integer" }
      },
      "notes": "Returns updated event tree with children repositioned"
    },
    "discard": {
      "method": "DELETE",
      "path": "/api/v1/comments/:id/discard",
      "description": "Soft-delete a comment (keeps in thread)",
      "authentication": "required",
      "authorization": "discard on Comment",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    },
    "undiscard": {
      "method": "POST",
      "path": "/api/v1/comments/:id/undiscard",
      "description": "Restore a soft-deleted comment",
      "authentication": "required",
      "authorization": "undiscard on Comment",
      "path_parameters": {
        "id": { "type": "integer" }
      }
    }
  }
}
